<!DOCTYPE html>
<html>
<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="UTF-8">
		<title>Simulador PlanMy</title>
		<style type="text/css" media="print">
				body {visibility: hidden; display: none;}
		</style>

<style>
    h2 {
        font-size: 1.8rem;
        margin-bottom: 0.7px;
    }
	hr {
	    width:50%;
	    margin:10px auto;
	}
	
	#cuerpo {
		line-height: 1.4;
		width: 60%;
		height: 100%;
		visibility: visible; 
		display: all;  
		margin: 0 auto;
		font-family: "Lucida Grande", Tahoma, Verdana, sans-serif;
	}
			
	.aviso{
		text-align: center;
		font-family: "Lucida Grande", Tahoma, Verdana, sans-serif;
		font-weight: normal;
		font-size: 1.5rem;
		color: #616161;
	}
	.aviso_mini{
		text-align: center;
		font-family: "Lucida Grande", Tahoma, Verdana, sans-serif;
		font-weight: normal;
		font-size: 0.7rem;
		color: #919191;
	}
	.pie {
		font-family: "Lucida Grande", Tahoma, Verdana, sans-serif;
		position: fixed;
		bottom: 0;
		width: 95%;
		color: #c1c1c1;
		padding-bottom: 10px;
		text-align: center;
		font-size: 0.6rem;
	}
	.horizontal-list {
		display: flex;
		list-style-type: none;
		padding: 0;
		width: 100%;
		margin-bottom: -11px;
	}
	.link_precio:link, .link_precio:visited {
		background-color: #f2f2f2;
		color: black;
		text-decoration: none;
	}
	.link_precio:hover, .link_precio:active {
		background-color: gray;
		color: white;
	}
	.horizontal-list li {
		flex-grow: 1;
	}
	.horizontal-list li button {
		width: 100%;
		background: #f2f2f2;
		color: rgba(0, 0, 0, 0.6);
		font-size: 1.3rem;
		cursor: pointer;
		padding: 7px 10px;
		margin-right: -1px;
		border: 1px solid rgba(0, 0, 0, 0.2);
		box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
	}
	.horizontal-list li:first-child button {
		border-top-left-radius: 5px;
		border-bottom-left-radius: 5px;
	}
	.horizontal-list li:last-child button {
		border-top-right-radius: 5px;
		border-bottom-right-radius: 5px;
	}
	.horizontal-list li button.selected {
		background-color: #c1c1c1;
		color: #000000;
		box-shadow: none;
	}

	.resultado{
		color: #616161;
		text-align: center;
		font-family: "Lucida Grande", Tahoma, Verdana, sans-serif;
		font-weight: normal;
		font-size: 1.6rem;
		margin-top: 20px;
	}

	@media only screen and (max-width: 600px) {	
        h2 {
            font-size: 1.2rem;
            margin-bottom: 1px;
        }
		hr {
			width:100%;
			margin:auto;
			color: #f2f2f2;
		}
		#cuerpo {
			width: 95%;
			height: 100%;
			visibility: visible; 
			display: all;  
			margin: 0 auto;
		}
		.horizontal-list li button { 
			font-size: 0.9rem;
		}
		.resultado{
			font-size:1rem; 
			text-align: left;
		}
		.aviso{
			font-size: 0.8rem;
		}
		.aviso_mini{
			font-size: 0.6rem;
		}
	}
</style>


		

<script>

    const texto_encriptado = 
    "cb87b4ded0beb2ddcee4829594a7bcb1c886ac8fcb87b1d3d292d4d3dd918a85df94b0b9d786ac8fcb8795a5918a85df94bc82879e92ea729dabd49e829a9ab9b1729f84ed91a0bbb494a9709694a9a87c8586c8c1729f84a3a6879396aaec7c8586aab6b29499a3a197a786ac8fcb87b4c8bf729f84a3a2819e909291a6b786ac8f82969aa0a885e2909291819babd49e829a9ab9b1729f84ed91a0bbb494a9709695aba87c8586c8c1729f84a3a8879395a4eccd918494bc83879e92ea729dabd49e829a9ab9b1729f84ed91a0bbb494a9709695a9a87c8586c8c1729f84a4a880939ba4ec7c8586aab6b29499a3a197a786ac8fcb87b4c8bf729f84a3a3809e909291a6b786ac8f83999ba0a684e2909291819babd49e829a9ab9b1729f84ed91a0bbb494a9709696aba87c8586c8c1729f84a5a1809398a9ec7c8586a3a597c793a7a082aca694a970e086c2c5a0879e92a085979d9e8f72bbb694a970989ba99d849ee19e8f729798b9d17f9a95a4b692879e92ea72b5bac2918a8595a9a489918494c5a2879e92a3839992a7a1cde2e19e8f72969994a970e086bfa2729f84ed9188acc6a1a1859babb4918a85df94bfa6b586ac8f81999bab9b7087bac4918a8597a8a47e959def9b70879cb9d17f9a95a4b692879e92ea72b5bac2918a8595a99f89918494c5a2879e92a3829792a3a1cd918494a086acc6a1a1859babb4918a85df94bfa6b586ac8f819a9dab9b7087bac4918a8597aba37e9d99ef9b708795a8b6b29499a3a197a786ac8fcb87b4c8bf729f84a3a7829e909291a6b786ac8f849a95a0a787e29092918299abd49e859696b9b1729f84ed91a0bbb494a9709794a7a87c8586c8c1729f84a79f88939defeccde2909291a0d7d394a970e086a3a3729f84ed919d9886ac8fcb8799a3a197a786ac8fcb87b4c8bf729f84a3a2899592a7a37c8586c8c1729f84a5a387939aa6ec7c8586a3c392879e92ea72b5bac2918a8595a7a780939aa49b7087bac4918a8597aba47e969aef9b708795a8b6b29495c6b1729f84ed91a0bbb494a970969aa9a07e9a979e8f72bbb694a9709995a99d889de1ef9b7087b1a5cbc59794a2a4a0d7d394a970e086a7a082aca694a970e086c2c5a0879e92a089969da0a386918494c5a2879e92a3879e92aaa6cd918494a0a4a786ac8fcb87b4c8bf729f84a4a2839792a8a87c8586c8c1729f84a7a7839395a9eccd918494bc83c1d9a49f809ab1d3e7729f84ed9181b9a694a970e086c2c5a0879e92a2809c9aa0a389918494c5a2879e92a6869e92a3a1cde29092919d9986ac8fcb8795a8b6b29499a3a197a786ac8fcb87b4c8bf729f84a3a8829e909291a6b786ac8f849c9aa0a586e2909291819babd49e81b9a694a970e086c2c5a0879e92a1819a9d9e8f72bbb694a9709a97a59d869ee19e8f729798b9d17f96b8b4918a85df94bfa6b586ac8f82989cab9b7087bac4918a8599ab9f7e9c96efec7c8586bfa3acda96a29f85b5d6e1918a85df94a184acc6a1a48197abb4918a85df94bfa6b586ac8f829998ab9b7087bac4918a859aa2a47e9a9def9b708796a6b6b29495c6b1729f84ed91a0bbb494a970979da6a87c8586c8c1729f84a9a1899399a8eccd918494bc84c1d9a49f809ab1d3e7729f84ed91839babd49e81b9a694a970e086c2c5a0879e92a288999d9e8f72bbb694a9709e99a49d87e2e1ef9b708795a8918a85df94bc83c1d9a49f809ab4e4de729f84ed91819dabd49e859696b9b1729f84ed91a0bbb494a970979ca4a87c8586c8c1729f84a7a7839395a9ec7c8586a5a597c793a7a082aca694a970e086c2c5a0879e92a2829d9d9e8f72bbb694a9709b9baa9d8296e1ef9b7087b1a5cbc59794a2a49dc6dc94a970e086a3a3acda96a29f85a8d3e4d4acda96a29f8596b8b4918a85df94bfa6b586ac8f849596ab9b7087bac4918a859ca5a07e9695ef9b708795a8cbc59794a2a493d4d6d7cbc59794a2a481b9a694a970e086c2c5a0879e92a386979d9e8f72bbb694a9709e99a79d809ce1ef9b7087b1a6cbc59794a2a4a0d7d394a970e086a4a397c793a7a082aca694a970e086c2c5a0879e92a189999d9e8f72bbb694a9709c96ab9d859be19e8f72999cb9d17f9a95a4b692879e92ea72b5bac2918a8597a69f89918494c5a2879e92a7849892a8a0cde29092919d99c0e7a1809599bfd0c8879e92ea72989ab9d17f96b8b4918a85df94bfa6b586ac8f849698ab9b7087bac4918a8595a2a1879394aaec7c8586a6a797c793a3c392879e92ea72b5bac2918a8598a9a389918494c5a2879e92a0819c99a0a784e2e1efeccd918494bcb1c886ac8fcb87b1dbddb9879e92ea72b29694a970e086a4a486aca694a970e086c2c5a0879e92a4899e909291a6b786ac8f899c92aba3cd918494a48197abb4918a85df94bfa6b586ac8f88979d9e8f72bbb694a9709697a79d899be1ef9b7087b1a4cbc59794a2a4a0d7d394a970e086a7a082aca694a970e086c2c5a0879e92a085999d9e8f72bbb694a9709799a69d899ce1ef9b7087b1a6918a85df94a086acc6a1a1859babb4918a85df94bfa6b586ac8f87969d9e8f72bbb694a970969ba89d869be19e8f72969ab9d17f9a95a4b692879e92ea72b5bac2918a859da6a87c8586c8c1729f84a4a283939aabec7c8586a4a397c793a7a082aca694a970e086c2c5a0879e92a0819c9d9e8f72bbb694a970979da29d8797e1ef9b7087b1a6cbc59794a2a4a0d7d394a970e086a4a397c793a7a082aca694a970e086c2c5a0879e92a0869b9d9e8f72bbb694a9709995a49d82e2e1ef9b7087b7e6e4b4ced394a970e086bfa1729f84ed91a5d1d8e4d0729f84ed9181b9a694a970e086c2c5a0879e92a388999ca0a785918494c5a2879e92a7809592a6eccde29092919d97c0e7a1809599bfd0c8879e92ea729a95a4b692879e92ea72b5bac2918a8596a6a188939ca79b7087bac4918a8598a29f7e99e1efeccd918494d89dc6c794a970e086bfa2729f84ed9188c1d9a49f809aa7e1e1b5879e92ea729799a8b692879e92ea72b5bac2918a8595a5a889918494c5a2879e92a1839592a3a6cde29092918195c0e7a1809599b5dec2ca86ac8fcb8796a7a597a786ac8fcb87b4c8bf729f84a3a5829e909291a6b786ac8f839b9da0a7cd918494a48197abb4918a85df94bfa6b586ac8f819d99ab9b7087bac4918a8598a3a47e9de1efec7c8586bfa3729f84ed918892c7e1e1b5879e92ea72969ab9d17f9799a8b692879e92ea72b5bac2918a8595a7a089918494c5a2879e92a2879a92a2a0cde2909291819591d5dec2ca86ac8fcb8795a8b6b29496a7a597a786ac8fcb87b4c8bf729f84a3a6869e909291a6b786ac8f84989bef9b708795a8b6b29499a3a197a786ac8fcb87b4c8bf729f84a3a8899e909291a6b786ac8f849e98a09f82e29092918299abd49e859696b9b1729f84ed91a0bbb494a9709796a4a87c8586c8c1729f84a7a4819394a7eccde2e19e8f72ceb4d3d3729f84ed91a0d7d394a970e086a3a0729f84ed919d9986ac8fcb87bbdbd5b9879e92ea729799a8b692879e92ea72b5bac2918a8595a3a889918494c5a2879e92a0899c92a6a2cd918494a48197abb4918a85df94bfa6b586ac8f819998ab9b7087bac4918a8596a5a77e9c99ef9b708795c6b1729f84ed91a0bbb494a970969da4a87c8586c8c1729f84a5a0889394abec7c8586c0d0bed4d8d7e7c49386ac8fcb8795c6b1729f84ed91a0bbb494a9709794a7a87c8586c8c1729f84a5a2899399aaec7c8586a4c392879e92ea72b5bac2918a8596a7a289918494c5a2879e92a3819d92aba1cde290929182b9a694a970e086c2c5a0879e92a184959d9e8f72bbb694a970989da99d8498e1ef9b7087a7d7dbbc879e92ea729799a8b692879e92ea72b5bac2918a8595a6a389918494c5a2879e92a1839d92a9a4cd918494a48197abb4918a85df94bfa6b586ac8f819b9dab9b7087bac4918a8596aa9f7e959cef9b708795c6b1729f84ed91a0bbb494a9709795a9a87c8586c8c1729f84a5a4899398a4ec7c8586c0d0bed4d8d7e7c49386ac8fcb8795c6b1729f84ed91a0bbb494a9709797a2a87c8586c8c1729f84a5a780939def9b708796c6b1729f84ed91a0bbb494a970979baaa87c8586c8c1729f84a6a5809396a6eccd918494a1a4a786ac8fcb87b4c8bf729f84a4a5859e909291a6b786ac8f84989ca0a685e2e1efec7c8586a3a2729f84ed919d9986ac8fcb87bbdbd5b9879e92ea729799a8b692879e92ea72b5bac2918a8595a7a389918494c5a2879e92a1859a92a4a7cd918494a48197abb4918a85df94bfa6b586ac8f819c9dab9b7087bac4918a8596aba57e9b95ef9b708795c6b1729f84ed91a0bbb494a9709796a9a87c8586c8c1729f84a5a685939da6ec7c8586c0d0bed4d8d7e7c49386ac8fcb8795c6b1729f84ed91a0bbb494a9709798a2a87c8586c8c1729f84a5a8879398a5ec7c8586a4c392879e92ea72b5bac2918a8596aaa789918494c5a2879e92a3879b92a9a6cde290929182b9a694a970e086c2c5a0879e92a1879a9d9e8f72bbb694a9709999a79d829de1ef9b7087a7d7dbbc879e92ea729799a8b692879e92ea72b5bac2918a8595a9a889918494c5a2879e92a1899b92a8a0cd918494a48197abb4918a85df94bfa6b586ac8f829598ab9b7087bac4918a8597a5a67e9e97ef9b708795c6b1729f84ed91a0bbb494a9709799a4a87c8586c8c1729f84a6a0879396a9ec7c8586c0d0bed4d8d7e7c49386ac8fcb8795c6b1729f84ed91a0bbb494a970979aa7a87c8586c8c1729f84a6a288939ba7ec7c8586a4c392879e92ea72b5bac2918a8597a3a289918494c5a2879e92a4819d92a2a8cde290929182b9a694a970e086c2c5a0879e92a280959d9e8f72bbb694a970999da89d8696e1efeccde290929191ced694a970e086a3a0729f84ed919d9786ac8fcb87bbdbd5b9879e92ea729696aab692879e92ea72b5bac2918a859aaba87c8586c8c1729f84a3a084939babec7c8586a4a486aca694a970e086c2c5a0879e92a7829e909291a6b786ac8f81989aa0a187e2909291859696b9b1729f84ed91a0bbb494a9709694a9a87c8586c8c1729f84a3a687939aef9b708795c6b1729f84ed91a0bbb494a9709697a4a87c8586c8c1729f84a4a088939da4eccd918494b2b5d1d094a970e086a3a188aca694a970e086c2c5a0879e92a7869e909291a6b786ac8f819996a0a789e2909291829a9ab9b1729f84ed91a0bbb494a9709e9dab9b7087bac4918a8595a8a37e989bef9b708799a3a197a786ac8fcb87b4c8bf729f84a3a1849e909291a6b786ac8f829599a0a6cd918494a0a4a786ac8fcb87b4c8bf729f84a3a3899e909291a6b786ac8f82999ba09f82e2e1efec7c8586a3a2729f84ed919d9786ac8fcb87bbdbd5b9879e92ea729696aab692879e92ea72b5bac2918a859da6a87c8586c8c1729f84a3a4869395a3ec7c8586a4a486aca694a970e086c2c5a0879e92a0809c9d9e8f72bbb694a970969ba99d86e2909291859696b9b1729f84ed91a0bbb494a9709697a4a87c8586c8c1729f84a4a088939da4ec7c8586a3c392879e92ea72b5bac2918a8595a7a689918494c5a2879e92a1869592a4a3cde290929193cad0de918a85df94a0829dabb4918a85df94bfa6b586ac8f819695ab9b7087bac4918a8595aaa37e9795ef9b708796a7a597a786ac8fcb87b4c8bf729f84a3a1849e909291a6b786ac8f829599a0a6cd918494a48197abb4918a85df94bfa6b586ac8f81999dab9b7087bac4918a8596a6a67e9596ef9b708795c6b1729f84ed91a0bbb494a970969ba6a87c8586c8c1729f84a4a7889397a6eccde2e1ef9b708795a2e3b8879e92ea72bccdd8d8729f84ed918699abb4918a85df94bfa6b586ac8f839e9d9e8f72bbb694a9709b99a0a1cd918494a1859babb4918a85df94bfa6b586ac8f859b9d9e8f72bbb694a9709e97a0a2cde290929193cad0de918a85df94a584aca694a970e086c2c5a0879e92a4869e909291a6b786ac8f899892a5ec7c8586a4a486aca694a970e086c2c5a0879e92a6839e909291a6b786ac8f819795a0a3cde2e19e8f72b2cde0d8acda96a29f85a695a9918a85df94c6b9cbcd94a970e086a3a188aca694a970e086c2c5a0879e92a4899e909291a6b786ac8f899d92a4a5cd918494a1859babb4918a85df94bfa6b586ac8f87979d9e8f72bbb694a9709695ab9d879ae19e8f729a95a4b692879e92ea72b5bac2918a859da9a87c8586c8c1729f84a3a5819394a9eccd918494b2b5d1d094a970e086a3a188aca694a970e086c2c5a0879e92a6869e909291a6b786ac8f81979aa0a286e2909291829a9ab9b1729f84ed91a0bbb494a9709d9dab9b7087bac4918a8595a6a67e9d99ef9b708799a3a197a786ac8fcb87b4c8bf729f84a3a0849e909291a6b786ac8f819d9da0a087e2e1efeccd918494bfbcc6d2bfe8acda96a29f85ceb4dadebeca86ac8fcb87cdc2d7bfd3c9cee4829594a7a086879e92ea72b5d6e1cbc59794a2a49dc6dc94a970e086a4a486aca694a970e086c2c5a0879e92a0849b9d9e8f72bbb694a9709897ab9d8097909291a6b79694a9709798a49d819be19e8f729a95a4b692879e92ea72b5bac2918a8595a9a089918494c5a2879e92a2899b92aaa67c8586c8c182879e92a1889892a6a7cd918494a0a4a786ac8fcb87b4c8bf729f84a3a8869e909291a6b786ac8f849a98a0a683918494c5a29786ac8f839798a0a7cde2909291a0d7d394a970e086a3a188aca694a970e086c2c5a0879e92a082969d9e8f72bbb694a970979ca39d819c909291a6b79694a9709794a29d8899e19e8f729799a8b692879e92ea72b5bac2918a8595a5a389918494c5a2879e92a2819692a4a57c8586c8c182879e92a1829792a5a2cd918494a48197abb4918a85df94bfa6b586ac8f819a9dab9b7087bac4918a8597a8a87e96959e8f72bbb6a4918a8596a8a27e9b99ef9b708795c6b1729f84ed91a0bbb494a970969ca6a87c8586c8c1729f84a6a186939da89b7087bac4a1729f84a59f84939da9eccd918494bfbcdad794a970e086a3a188aca694a970e086c2c5a0879e92a081959d9e8f72bbb694a9709799a79d8797909291a6b79694a970969ca49d869be19e8f729799a8b692879e92ea72b5bac2918a8595a4a289918494c5a2879e92a1889a92aa9b7087bac4a1729f84a49f849395a6ec7c8586a7a082aca694a970e086c2c5a0879e92a0849d9d9e8f72bbb694a9709898a59d869a909291a6b79694a9709798a79d849ce1ef9b7087b2e1e1bdc6d094a970e086a3a188aca694a970e086c2c5a0879e92a8859e909291a6b786ac8f829795a09f81918494c5a29786ac8f819a9ba0a786e2909291829a9ab9b1729f84ed91a0bbb494a9709694aaa87c8586c8c1729f84a4a4819394ab9b7087bac4a1729f84a3a6899397a7ec7c8586a7a082aca694a970e086c2c5a0879e92a083989d9e8f72bbb694a9709894aa9d8999909291a6b79694a9709796a29d869ce1efec7c8586dbbfb8d4d2d7cbc59794a2a4819a86ac8fcb87b4e4deacda96a29f85b2c5ea918a85df94a1859babb4918a85df94bfa6b586ac8f819898ab9b7087bac4918a8596a4a17e98979e8f72bbb6a4918a8595a3a07e969aef9b708799a3a197a786ac8fcb87b4c8bf729f84a3a4899e909291a6b786ac8f829b97a0a585918494c5a29786ac8f819895a0a782e290929181b9a694a970e086c2c5a0879e92a088999d9e8f72bbb694a9709894a69d899c909291a6b79694a9709699a49d849ee1ef9b7087b4e4de729f84ed9181979cb9b1729f84ed91a0bbb494a9709695a3a87c8586c8c1729f84a3a7849397a39b7087bac4a1729f84aba17e9699ef9b708796a7a597a786ac8fcb87b4c8bf729f84a3a1849e909291a6b786ac8f829599a0a77c8586c8c182879e92a0809792abec7c8586a7a082aca694a970e086c2c5a0879e92a0849e9d9e8f72bbb694a9709798a99d8197909291a6b79694a9709696a59d859be19e8f7296b8b4918a85df94bfa6b586ac8f819c98ab9b7087bac4918a8596aaa77e99989e8f72bbb6a4918a8595a6a37e9796efec7c8586c2dbc5d886ac8fcb8795a4a797a786ac8fcb87b4c8bf729f84aba489918494c5a2879e92a0859c92aaa57c8586c8c182879e92a688939da5ec7c8586a4a486aca694a970e086c2c5a0879e92a0809d9d9e8f72bbb694a970969bab9d839a909291a6b79694a9709d9da0a588e2909291859696b9b1729f84ed91a0bbb494a9709697a5a87c8586c8c1729f84a4a180939aa99b7087bac4a1729f84a3a0809397a6eccd918494bdbfd7d1d3db729f84ed9181979cb9b1729f84ed91a0bbb494a9709d99ab9b7087bac4918a8595a6a07e98979e8f72bbb6a4918a859ba29d869ce19e8f729799a8b692879e92ea72b5bac2918a859daaa87c8586c8c1729f84a3a582939ca49b7087bac4a1729f84aaa07e9995ef9b708799a3a197a786ac8fcb87b4c8bf729f84a3a1839e909291a6b786ac8f829598a0a084918494c5a29786ac8f819596a09f87e2e1ef9b7087cdc2d7bfd3c9cee4829594a7a084879e92ea72b5d0e7e2729f84ed9181979cb9b1729f84ed91a0bbb494a9709d9aab9b7087bac4918a859ba39d849e909291a6b79694a9709c95a0a389e2909291829a9ab9b1729f84ed91a0bbb494a9709e9dab9b7087bac4918a859ca49d8299909291a6b79694a9709d96a0a184e2909291859696b9b1729f84ed91a0bbb494a9709696a6a87c8586c8c1729f84a39f82939d9e8f72bbb6a4918a8595a2a17e9ee1ef9b7087b2e1e1bdc6d094a970e086a3a188aca694a970e086c2c5a0879e92a6839e909291a6b786ac8f869592a9a47c8586c8c182879e92a580939ba7ec7c8586a4a486aca694a970e086c2c5a0879e92a7869e909291a6b786ac8f879692a6a87c8586c8c182879e92a6819398abec7c8586a7a082aca694a970e086c2c5a0879e92a081969d9e8f72bbb694a9709e96a0a085918494c5a29786ac8f899792a3a4cde2e19e8f72ceb4dadebecac0e7a1809599a3a2729f84ed919ed4d6dfd0bc879e92ea729696aab692879e92ea72b5bac2918a859aa2a87c8586c8c1729f84a79f7e95959e8f72bbb6a4918a8599a29d8096e19e8f729799a8b692879e92ea72b5bac2918a859ba7a87c8586c8c1729f84a8a17e99909291a6b79694a9709b96a0a3cd918494a48197abb4918a85df94bfa6b586ac8f819594ab9b7087bac4918a859ca59d809b909291a6b79694a9709d97a09f86e2e1efec7c8586c2dbb1d3b1ebcbc59794a2a4a7c6d8d5d7729f84ed91a7c6d8d5d7acda96a29f85bad0e6e1b1c1d9a49f809a9694a970e086b9bfa390a7d7dbbc879e92ea72999ddfdc729f84ed91a0bbb494a9709d9dab9b7087bac4918a8595a6a77e96e19e8f72b2cdded0becad7d7cbc59794a2a4849ed1df918a85df94bfa6b586ac8f899e9d9e8f72bbb694a970969aa69d8697e1efec7c8586c9d0c4c8cccee4829594a7c2b5d7cdd7e2acda96a29f85969494a970e086c0dec2d2c5de918a85df94b6a0b886ac8fcb8798a29e849693a6a1bdd286ac8fcb87b4c8bf729f84a6a389918494c5a2879e92a8829395a6ec7c8586a6a37f9999a1a386d2d194a970e086c2c5a0879e92a3879e909291a6b786ac8f899d92a5a3cde290929197b5b79db2b5d1d094a970e086a69f7f9995a1a382d2d194a970e086c2c5a0879e92a4869e909291a6b786ac8f81969aa0a884e2909291849993a6a47f999adfdc729f84ed91a0bbb494a9709a9dab9b7087bac4918a8595a4a27e9698efeccd918494c3b9d9c5e0d8c5d286ac8fcb87abc2c27ba8c9dedb729f84ed91849593a6a07f9996dfdc729f84ed91a0bbb494a9709c9dab9b7087bac4918a8595a8a37e999aef9b708798a69e849a93a6a5bdd286ac8fcb87b4c8bf729f84aaa389918494c5a2879e92a0879992a9a8cde2e19e8f72b9cde6d0beced9dfcbc59794a2a49dced0d3ddb5d8c994a970e086b9bfa390a7d7dbbc879e92ea729994a1a3819498a4dcbd879e92ea72b5bac2918a859ca6a87c8586c8c1729f84a3a684939babec7c8586a6a37f9999a1a386d2d194a970e086c2c5a0879e92a7899e909291a6b786ac8f819d99a0a082e2e1efec7c8586c9d0c4c8cccee4829594a7c2b5d7cdd7e2acda96a29f859e86ac8fcb87b2e1e1bdc6d094a970e086b9bfa3879e92ea729994a1a3819498a4dcbd879e92ea72b5bac2918a8597aaa87c8586c8c1729f84a9a87e9c99ef9b708798a69e849a93a6a5bdd286ac8fcb87b4c8bf729f84a6a089918494c5a2879e92a785939da7eccd918494b6a0b88fb5d4bcd186ac8fcb8798a29e849693a6a1bdd286ac8fcb87b4c8bf729f84a79f89918494c5a2879e92a0809992a7a3cd918494a3849498a79e849bd1df918a85df94bfa6b586ac8f85989d9e8f72bbb694a9709695a29d8799e1efec7c8586c5e3b1ced2ded4c3d886ac8fcb87abc2c27ba8c9dedb729f84ed91849593a6a07f9996dfdc729f84ed91a0bbb494a9709b9bab9b7087bac4918a8595a5a87e9b9bef9b708798a69e849a93a6a5bdd286ac8fcb87b4c8bf729f84a9a789918494c5a2879e92a0869792a5a8cde2e19e8f72b8d8d3d8bed1c9e5e2acda96a29f85b2cdded0becad7d7918a85df94b6a0b88fb5d4bcd186ac8fcb8798a29e849693a6a1bdd286ac8fcb87b4c8bf729f84a9a289918494c5a2879e92a0859792a2a5cd918494a3849498a79e849bd1df918a85df94bfa6b586ac8f879d9d9e8f72bbb694a970969aa49d839ee1efeccd918494c6b1d9c7dacbc59794a2a4a3aa86ac8fcb87abc2c2729f84ed91849593a6a07f9996dfdc729f84ed91a0bbb494a9709798ab9b7087bac4918a8596a29d8398e19e8f729998a1a3859498a8dcbd879e92ea72b5bac2918a8596a9a87c8586c8c1729f84a4a17e9d95efec7c8586b9bfa390a7d7dbbc879e92ea729994a1a3819498a4dcbd879e92ea72b5bac2918a8596aba87c8586c8c1729f84a4a37e999aef9b708798a69e849a93a6a5bdd286ac8fcb87b4c8bf729f84a5a189918494c5a2879e92a186939da6eccde2e1ef"
	let datos_brutos;
	let datos;
	
	function borrapass(){
		localStorage.setItem('password', '');
		console.log('Contraseña borrada')
	}
	
	function decryptAsync(encryptedText, key) {
		return new Promise((resolve, reject) => {
			let decryptedText = "";
			let keyIndex = 0;
			for (let i = 0; i < encryptedText.length; i += 2) {
				let encryptedByte = parseInt(encryptedText.substr(i, 2), 16);
				decryptedText += String.fromCharCode((encryptedByte - key.charCodeAt(keyIndex % key.length) + 256) % 256);
				keyIndex++;
			}
			resolve(decryptedText);
		});
	}
	
	function recopilaSeleccionados(){
		resultado = '';
		espacio ='';
		var elem =document.getElementsByClassName("selected");
		for (const element of elem) {
			if (resultado.length!=0) espacio =' ';
				resultado = resultado +espacio+ element.textContent;
			};
		return resultado;
	}

	function estaPalabra(frase, palabra){
		let patron = `\\b${palabra}\\b`;
		let regExp = new RegExp(patron, 'g');
		let esta = regExp.test(frase)
		let result = esta ? true : false;
		return result
	}

	function CambiarPrecio(precio) {	
		let nuevo_precio = parseInt(prompt("Introduce el precio", precio));
		if (nuevo_precio != null && !isNaN(nuevo_precio)) {
			dibujaCuota(recopilaSeleccionados(), nuevo_precio, VR, VR2);
		}
	}
	
	function devuelveValores(indices) {
		console.log(indices);
		const indiceArray = indices.split(' ');
		let resultado = datos;
	    for (let i = 0; i < indiceArray.length; i++) {
	        console.log(indiceArray[i]);

			resultado = resultado[indiceArray[i]];
	    }
	    return resultado;
	}

	function showSelectedItem(item) {
		const container = document.getElementById('list-container');
		x = parseInt(item.parentElement.parentElement.id)+1;
		const nombres = devuelveValores(recopilaSeleccionados());
		const nombres_valores = Object.keys(nombres);
		if (nombres_valores.includes('PVP')) {
			precio = nombres['PVP'];
			VR = nombres['VR'];
			VR2 = recopilaSeleccionados().includes('iPhone') ? nombres['VR2'] : '';
			dibujaCuota(recopilaSeleccionados(), precio, VR, VR2);
		}
		else
		{
			let txt_resultado = document.getElementById("resultado");
			txt_resultado.innerHTML = '';
			container.appendChild(generateHorizontalList(nombres_valores,x));
		}
	}

	function generateHorizontalList(items,nivel) {
		const list = document.createElement('ul');
		list.classList.add('horizontal-list');
		list.id = nivel;
		items.forEach(item => {
			const listItem = document.createElement('li');
			const button = document.createElement('button');
			button.textContent = item;
			button.addEventListener('click', function() {
				const selectedButton = list.querySelector('button.selected');
				const nivel_actual = parseInt(this.parentElement.parentElement.id);
				for (var i = nivel_actual+1; i <10 ; i++) {
					var elem = document.getElementById(i);
						if (elem) elem.parentNode.removeChild(elem);
				}
				if (selectedButton) {
					selectedButton.classList.remove('selected');
				}
				this.classList.add('selected');
				showSelectedItem(this,nivel_actual);
			});
			listItem.appendChild(button);
			list.appendChild(listItem);
		});
		return list;
	}

	document.addEventListener('DOMContentLoaded', function() {
		const container = document.getElementById('list-container');
		const cuerpo = document.getElementById('cuerpo');
		const sinpass = document.getElementById('sinpass');
		cuerpo.style.display="none";
		sinpass.style.display="none";
		const nombres = ['PlanMy Mac','PlanMy iPhone','PlanMy Watch'];
		
		container.appendChild(generateHorizontalList(nombres,0));
	});

	function dibujaCuota(modelo,precio, fv, fv2) {	

		const TIN24 = 9.27;
		const TIN36 = 10.41;


		if (modelo.includes('iPhone')) {
			pv = -precio-18;
			rate = TIN24/100/12; 
			nper = 24;
			pvif = Math.pow(1 + rate, nper);
			pmt = - rate * (pv * pvif + fv) / (pvif - 1);
			intereses = ((pmt*nper)+fv)-precio;	
			linea1 = [nper, pmt, fv, intereses];	
			rate = TIN36/100/12; 
			nper = 36;
			pvif = Math.pow(1 + rate, nper);
			pmt = - rate * (pv * pvif + fv2) / (pvif - 1);
			intereses = ((pmt*nper)+fv2)-precio;	
			linea2 = [nper, pmt, fv2, intereses];		
		}
		else if (modelo.includes('Watch'))
		{
			rate = TIN24/100/12;
			nper = 24;
			pv = -precio-18;
			pvif = Math.pow(1 + rate, nper);
			pmt = - rate * (pv * pvif + fv) / (pvif - 1);
			intereses = ((pmt*nper)+fv)-precio;
			linea1 = [nper, pmt, fv, intereses];
		}
		else
		{
			rate = TIN36/100/12;
			nper = 36;
			pv = -precio-18;
			pvif = Math.pow(1 + rate, nper);
			pmt = - rate * (pv * pvif + fv) / (pvif - 1);
			intereses = ((pmt*nper)+fv)-precio;
			linea1 = [nper, pmt, fv, intereses];	
		}
		codigo_enlace = '<a class="link_precio" title="Pulsa para modificar el precio" href="#" onclick="CambiarPrecio(' + precio+');return false;">';	  
		texto_resultado = 'Importe: '+codigo_enlace+'<b>'+precio+" €</b></a><br/><hr><b>";
		texto_resultado += linea1[0] +'</b> cuotas de <b>'+redondea(linea1[1])+ '€</b><br>';
		texto_resultado += 'Y una última cuota de <b>'+redondea(linea1[2])+' €</b><br>';
		texto_resultado += 'Incluye <b>'+redondea(linea1[3])+ ' €</b> de intereses.';
		if (modelo.includes('iPhone')) {
			texto_resultado += '<br><hr><b>'+linea2[0] +'</b> cuotas de <b>'+redondea(linea2[1])+ '€</b><br>';
			texto_resultado += 'Y una última cuota de <b>'+redondea(linea2[2])+' €</b><br>';
			texto_resultado += 'Incluye <b>'+redondea(linea2[3])+ ' €</b> de intereses';				
		}
		let txt_resultado = document.getElementById("resultado");
		txt_resultado.innerHTML = texto_resultado;
	}

	function redondea(valor){
		if (Number.EPSILON === undefined) {
			Number.EPSILON = Math.pow(2, -52); //Hay que meter esto para que funcione en IE11
		}
		return (Math.round((valor + Number.EPSILON) * 100) / 100);
	}


	function iniciar() {
		if (localStorage.getItem('password')) {
			pass = localStorage.getItem('password');
		} else {
			pass = prompt("Contenido protegido. Introduce la contraseña: ");
		}
		
	decryptAsync(texto_encriptado,pass)
		.then(decryptedText => {
			datos = JSON.parse(decryptedText);
			localStorage.setItem('password', pass);
			document.getElementById("cuerpo").style.display="block";
			document.getElementById('cargando').style.display="none";
		})
		.catch(error => {
			console.error("Error:", error);
			console.log("No se han podido cargar los datos. Se borra la contraseña guardada.");
			document.getElementById("sinpass").style.display="block";
			document.getElementById('cargando').style.display="none";
		});
	}

	window.onload = function() {
		iniciar();
	};

</script>
</head>
	<body translate="no">
		<div class='aviso' id='cargando'>Cargando...</div>
		<div class='aviso' id='sinpass'>No se han podido cargar los datos.<br><a href="#" onclick="location.reload()">Actualiza esta página</a> e introduce la contraseña correcta.</div>

		<div class="cuerpo" id="cuerpo">
			<h2>Simulador PlanMy</h2>
			<div id="list-container"></div>
			<br>
			<div class='aviso'><b>Los valores son aproximados.</b> <br>Por favor, no imprimáis esta hoja.</div>
			<div class='aviso_mini'>
				<br>08/11/24: Modelos M4.
			</div>			
			<div id ='resultado' class="resultado">
			</div>
		</div>
		<div class="pie">
			PJEE 2023-2024
		</div>
	</body>
</html>
